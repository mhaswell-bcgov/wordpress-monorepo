(()=>{"use strict";const t=window.wp.hooks,e=window.wp.compose,o=window.wp.element,n=window.wp.data,r=(0,e.createHigherOrderComponent)(t=>e=>{const{name:r,attributes:c,setAttributes:i}=e,a=(0,n.useSelect)(t=>{const e=t("core").getEntityRecord("root","site",void 0);return"1"===e?.dswp_auto_anchor_enabled},[]);return(0,o.useEffect)(()=>{if("core/heading"===r)if(a&&c.content){const e=(t=c.content)?t.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):"";e!==c.anchor&&i({anchor:e,isAutoAnchor:!0})}else!a&&c.isAutoAnchor&&i({anchor:"",isAutoAnchor:!1});var t},[c.content,a,r,c.anchor,c.isAutoAnchor,i]),(0,o.createElement)(t,e)},"withAutoAnchor");(0,t.addFilter)("editor.BlockEdit","bcgov/auto-anchor",r)})();