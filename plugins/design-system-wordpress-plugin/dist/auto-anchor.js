(()=>{"use strict";const e=window.wp.hooks,t=window.wp.compose,o=window.wp.element,n=window.wp.data,r=(0,t.createHigherOrderComponent)((e=>t=>{const{name:r,attributes:c,setAttributes:i}=t,a=(0,n.useSelect)((e=>{const t=e("core").getEntityRecord("root","site",void 0);return"1"===t?.dswp_auto_anchor_enabled}),[]);return(0,o.useEffect)((()=>{if("core/heading"===r)if(a&&c.content){const t=(e=c.content)?e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):"";t!==c.anchor&&i({anchor:t,isAutoAnchor:!0})}else!a&&c.isAutoAnchor&&i({anchor:"",isAutoAnchor:!1});var e}),[c.content,a]),(0,o.createElement)(e,t)}),"withAutoAnchor");(0,e.addFilter)("editor.BlockEdit","bcgov/auto-anchor",r)})();