{"version":3,"file":"in-page-nav.js","mappings":"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","sources":["webpack://design-system-wordpress-plugin/webpack/bootstrap","webpack://design-system-wordpress-plugin/webpack/runtime/make namespace object","webpack://design-system-wordpress-plugin/./src/Bcgov/DesignSystemPlugin/InPageNav/index.js","webpack://design-system-wordpress-plugin/./src/Bcgov/DesignSystemPlugin/InPageNav/index.css?15b1"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener('DOMContentLoaded', () => {\n    const mainContent = document.querySelector('#main-content') || document.querySelector('main') || document.querySelector('.content-area');\n    if (!mainContent) return;\n\n    const headings = Array.from(mainContent.querySelectorAll('h2[id], h3[id]'));\n    if (headings.length < 2) return;\n\n    // Create navigation structure\n    const nav = document.createElement('aside');\n    nav.className = 'dswp-in-page-nav';\n    nav.innerHTML = `\n        <div class=\"nav-header\">\n            <div class=\"nav-title\">\n                <h4>On this page</h4>\n            </div>\n            <button type=\"button\" class=\"nav-toggle\" aria-label=\"Toggle navigation menu\" aria-expanded=\"false\"></button>\n        </div>\n        <ul class=\"nav-links\">\n            ${headings.map(heading => `\n                <li>\n                    <a href=\"#${heading.id}\" data-heading-id=\"${heading.id}\">\n                        ${heading.textContent}\n                    </a>\n                </li>\n            `).join('')}\n        </ul>\n    `;\n\n    // Create wrapper structure\n    const wrapper = document.createElement('div');\n    wrapper.className = 'dswp-nav-content-container';\n    mainContent.parentNode.insertBefore(wrapper, mainContent);\n    wrapper.appendChild(nav);\n    wrapper.appendChild(mainContent);\n\n    // Handle scroll and click events\n    const updateActiveLink = () => {\n        const navHeight = nav.offsetHeight + 8;\n        const scrollPosition = window.scrollY + navHeight + (window.innerHeight * 0.2);\n        \n        let currentHeading = null;\n        for (const heading of headings) {\n            if (heading.getBoundingClientRect().top + window.scrollY < scrollPosition) {\n                currentHeading = heading;\n            } else break;\n        }\n\n        // Update active link and current class\n        nav.querySelectorAll('a').forEach(link => {\n            const isCurrent = currentHeading && link.getAttribute('data-heading-id') === currentHeading.id;\n            link.classList.toggle('dswp-current', isCurrent);\n            const listItem = link.closest('li');\n            listItem.classList.toggle('current', isCurrent);\n        });\n    };\n\n    // Toggle navigation\n    const navToggle = nav.querySelector('.nav-toggle');\n    navToggle.addEventListener('click', (e) => {\n        e.stopPropagation(); // Prevent event from bubbling to navHeader\n        if (window.innerWidth <= 768) {\n            const isExpanded = nav.classList.toggle('is-expanded');\n            navToggle.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');\n        }\n    });\n\n    // Smooth scroll to heading\n    nav.querySelectorAll('a').forEach(link => {\n        link.addEventListener('click', (e) => {\n            e.preventDefault();\n            const targetId = link.getAttribute('href').substring(1);\n            const target = document.getElementById(targetId);\n            if (!target) return;\n\n            const offset = nav.offsetHeight + dswpInPageNav.options.scroll_offset;\n            \n            window.scrollTo({\n                top: target.getBoundingClientRect().top + window.scrollY - offset,\n                behavior: 'smooth'\n            });\n            \n            history.pushState(null, null, `#${targetId}`);\n            \n            // Collapse the navigation after clicking a link\n            nav.classList.remove('is-expanded');\n        });\n    });\n\n    // Keep the throttled scroll listener\n    let scrollTimeout;\n    window.addEventListener('scroll', () => {\n        if (scrollTimeout) window.cancelAnimationFrame(scrollTimeout);\n        scrollTimeout = window.requestAnimationFrame(updateActiveLink);\n    });\n\n    // Initial check\n    updateActiveLink();\n}); ","// extracted by mini-css-extract-plugin\nexport {};"],"names":["document","addEventListener","mainContent","querySelector","headings","Array","from","querySelectorAll","length","nav","createElement","className","innerHTML","map","heading","id","textContent","join","wrapper","parentNode","insertBefore","appendChild","updateActiveLink","navHeight","offsetHeight","scrollPosition","window","scrollY","innerHeight","currentHeading","getBoundingClientRect","top","forEach","link","isCurrent","getAttribute","classList","toggle","listItem","closest","navToggle","e","stopPropagation","innerWidth","isExpanded","setAttribute","preventDefault","targetId","substring","target","getElementById","offset","dswpInPageNav","options","scroll_offset","scrollTo","behavior","history","pushState","remove","scrollTimeout","cancelAnimationFrame","requestAnimationFrame"],"sourceRoot":""}