document.addEventListener("DOMContentLoaded",(function(){function e(e){return e?"string"==typeof e?e:e.rendered?e.rendered:"":""}document.querySelectorAll(".wp-block-design-system-wordpress-plugin-breadcrumb").forEach((async function(t){const r=t.querySelector(".dswp-block-breadcrumb__container");try{const n=function(){const e=document.body.className.split(" ").find((e=>e.startsWith("page-id-")));return e?e.replace("page-id-",""):null}();if(!n)return void console.warn("Could not determine current page ID");const a=await fetch(`/wp-json/wp/v2/pages/${n}`);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(!s?.title?.rendered)throw new Error("Invalid page data received");const i=t.getAttribute("data-divider-type")||"slash",o="true"===t.getAttribute("data-current-as-link"),d="chevron"===i?" > ":" / ",c=[];let l=s;for(l?.title&&c.unshift({title:e(l.title),url:l.link||"#",id:l.id});l?.parent;){const t=await fetch(`/wp-json/wp/v2/pages/${l.parent}`);if(!t.ok)break;l=await t.json(),l?.title&&c.unshift({title:e(l.title),url:l.link||"#",id:l.id})}r.innerHTML=c.map(((t,r)=>{const n=r===c.length-1,a=e(t.title);return n?o?`<a href="${t.url}" class="current-page-link">${a}</a>`:`<span class="current-page">${a}</span>`:`\n                    <a href="${t.url}">${a}</a>\n                    <span class="separator">${d}</span>\n                `})).join(""),r.classList.add("is-loaded")}catch(e){console.error("Error building breadcrumb:",e),r.classList.add("is-loaded"),r.innerHTML='<span class="breadcrumb-error">Navigation</span>'}}))}));