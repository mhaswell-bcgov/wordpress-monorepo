(()=>{"use strict";jQuery(document).ready(function(){if("undefined"==typeof searchHighlightData)return;const{terms:e=[],selectors:t=[],events:n=["DOMContentLoaded"]}=searchHighlightData;if(0===e.length)return;const s=e=>({element:e,highlight(e,t={}){const{className:n="search-highlight",exclude:s=["script","style","title","head","html","mark","iframe","input","textarea"],excludeClasses:o=[]}=t;if(s.includes(this.element.tagName.toLowerCase()))return;const a=new RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");this.highlightTextNodes(this.element,a,n,s,o)},highlightTextNodes(e,t,n,s,o){const a=this.getTextNodes(e,s,o);for(const e of a)this.highlightTextNode(e,t,n)},getTextNodes(e,t,n){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>{const s=e.parentNode;return t.includes(s.tagName.toLowerCase())||s.className&&s.className.split(" ").some(e=>n.includes(e))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});let a;for(;a=o.nextNode();)s.push(a);return s},highlightTextNode(e,t,n){const s=e.textContent,o=s.match(t);if(o&&o.length>0){const o=document.createDocumentFragment();let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(s));){a.index>r&&o.appendChild(document.createTextNode(s.substring(r,a.index)));const e=document.createElement("mark");e.className=n,e.textContent=a[0],o.appendChild(e),r=a.index+a[0].length}r<s.length&&o.appendChild(document.createTextNode(s.substring(r))),e.parentNode.replaceChild(o,e)}}}),o=()=>{for(const n of t){const t=document.querySelectorAll(n);if(t.length){for(const n of t)for(const[t,o]of e.entries())o&&o.length>0&&s(n).highlight(o,{className:`search-highlight term-${t}`,exclude:["script","style","title","head","html","mark","iframe","input","textarea"],excludeClasses:["metadata-label"],separateWordSearch:!1});if(t.length)break}}"function"==typeof Cufon&&Cufon.refresh()};o(),n.forEach(function(e){document.addEventListener(e,o)})})})();