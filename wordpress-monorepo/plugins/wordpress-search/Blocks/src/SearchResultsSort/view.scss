@use "~@wordpress/base-styles/breakpoints" as *; // variable names depend on that package

// Store arrow SVG as variable to prevent linter from breaking data URI
$arrow-icon: 'data:image/svg+xml,%3csvg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"%3e%3cpath stroke="%236b7280" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m6 8 4 4 4-4"/%3e%3c/svg%3e';

.wp-block-wordpress-search-searchresultssort {
	margin: 1rem 0;

	.search-results-sort {

		&__controls {
			display: flex;
			flex-direction: column;
			align-items: stretch;
			gap: 0.35rem;
			flex-wrap: nowrap;
		}

		&__field-group {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			gap: 0.35rem;
		}

		&__label {
			font-weight: 700;
			font-size: 1rem;
			color: #23272c;
			margin: 0;
			letter-spacing: 0;
		}

		&__icon {
			width: 0;
			height: 0;
			margin: 0;
			padding: 0;
			display: none;
		}

		&__sort-select {
			font-size: 1rem !important;
			font-weight: 500 !important;
			min-width: 7.5rem !important;
			width: auto !important;
			padding: 0.3em 2.4em 0.3em 0 !important;
			border: none !important;
			background: transparent !important;
			color: #444 !important;
			box-shadow: none !important;
			outline: none !important;
			vertical-align: middle;
			appearance: none !important;
			-webkit-appearance: none !important;
			-moz-appearance: none !important;
			background-image: url(#{$arrow-icon}) !important;

			background-repeat: no-repeat !important;
			background-size: 1.25em 1.25em !important;
			background-position: right 0.2em center !important;
			border-radius: 0;
		}

		&__sort-select:focus {
			color: #222 !important;
			outline: none;
		}

		&__sort-select option {
			font-size: 1rem;
			font-weight: 500;
			color: #444;
		}
	}
}

// Responsive design
@media (max-width: $break-xlarge) {

	.wp-block-wordpress-search-searchresultssort {

		.search-results-sort {

			&__controls {
				flex-direction: column;
				align-items: stretch;
				gap: 1rem;
			}

			&__field-group {
				flex-direction: column;
				align-items: stretch;
				gap: 0.5rem;
			}

			&__sort-select {
				width: max-content !important;
				min-width: 0 !important;
				background-position: right 0.3em center !important;
				display: inline-block;
			}
		}
	}
}

// Desktop: label and dropdown on same line, arrow close to text
@media (min-width: $break-xlarge) {

	.wp-block-wordpress-search-searchresultssort {

		.search-results-sort {

			&__controls {
				align-items: center;
				gap: 0.28em;
			}

			&__field-group {
				flex-direction: row;
				align-items: center;
				gap: 0.28em;
				margin: 0;
			}
		}
	}
}
