(()=>{"use strict";window.toggleTaxonomyFilter=function(e){const o=e.nextElementSibling,t=e.querySelector(".taxonomy-filter__toggle");o.classList.contains("collapsed")?(o.classList.remove("collapsed"),t.classList.remove("collapsed")):(o.classList.add("collapsed"),t.classList.add("collapsed"))},window.applyTaxonomyFilters=function(){sessionStorage.setItem("filterScrollPosition",window.scrollY);const e=new URL(window.location.href),o=e.searchParams;Array.from(o.keys()).filter((e=>e.startsWith("taxonomy_"))).forEach((e=>o.delete(e))),document.querySelectorAll(".taxonomy-filter__checkbox:checked").forEach((e=>{const t=e.getAttribute("name"),s=e.value;if(t&&s){const e=t.endsWith("[]")?t.slice(0,-2):t;if(o.has(e)){const t=o.get(e);o.set(e,t+","+s)}else o.set(e,s)}})),window.location.href=e.toString()},function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const e=sessionStorage.getItem("filterScrollPosition");e&&requestAnimationFrame((()=>{window.scrollTo(0,parseInt(e)),sessionStorage.removeItem("filterScrollPosition")}))}(),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".taxonomy-filter__content").forEach((e=>{if(e.querySelectorAll(".taxonomy-filter__checkbox:checked").length>0){const o=e.previousElementSibling.querySelector(".taxonomy-filter__toggle");e.classList.remove("collapsed"),o.classList.remove("collapsed")}}))}))})();