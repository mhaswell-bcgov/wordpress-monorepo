(()=>{"use strict";window.applyTaxonomyFilters=function(){const e=new URL(window.location.href),t=e.searchParams,o=t.get("sort"),r=t.get("meta_sort"),a=t.get("meta_field");Array.from(t.keys()).filter(e=>e.startsWith("taxonomy_")||"paged"===e).forEach(e=>t.delete(e)),o&&t.set("sort",o),r&&t.set("meta_sort",r),a&&t.set("meta_field",a),e.pathname=e.pathname.replace(/\/page\/\d+\/?/g,"/").replace(/\/+/g,"/").replace(/\/$/,"")||"/",document.querySelectorAll(".taxonomy-filter__checkbox:checked").forEach(e=>{let o=e.name.replace("[]",""),r=e.value;t.has(o)?t.set(o,t.get(o)+","+r):t.set(o,r)}),window.location.href=e.toString()},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".taxonomy-filter__view-all-link").forEach(e=>{const t=e.closest(".taxonomy-filter-section").querySelector(".taxonomy-filter__options"),o=Array.from(t.querySelectorAll(".taxonomy-filter__option")).slice(5),r=e.querySelector(".taxonomy-filter__view-all-text"),a=t=>{t&&t.preventDefault(),"true"===e.getAttribute("aria-expanded")?(o.forEach(e=>{e.classList.add("taxonomy-filter__option--hidden"),e.style.removeProperty("display")}),e.setAttribute("aria-expanded","false"),r.textContent=window.wp?.i18n?.__("View all","wordpress-search")||"View all"):(o.forEach(e=>{e.classList.remove("taxonomy-filter__option--hidden"),e.style.setProperty("display","flex","important")}),e.setAttribute("aria-expanded","true"),r.textContent=window.wp?.i18n?.__("View less","wordpress-search")||"View less")};e.addEventListener("click",a),e.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a(e))})})})})();