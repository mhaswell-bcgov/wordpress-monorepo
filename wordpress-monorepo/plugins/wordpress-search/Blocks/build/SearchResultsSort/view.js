(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".search-results-sort__sort-select").forEach((function(t){t.addEventListener("change",(function(){const t=this.dataset.currentUrl,e=this.value;sessionStorage.setItem("sortScrollPosition",window.scrollY);let s=t;if(e.startsWith("title_")){const t=new URL(s,window.location.origin),o=new URLSearchParams(t.search);o.delete("sort"),o.delete("meta_sort"),o.delete("meta_field"),o.set("sort",e),s=t.pathname+"?"+o.toString()}else if(e.startsWith("meta_")){const t=e.replace("meta_",""),o=new URL(s,window.location.origin),r=new URLSearchParams(o.search);r.delete("sort"),r.delete("meta_sort"),r.delete("meta_field"),r.set("meta_sort",t);const n=this.closest(".wp-block-wordpress-search-searchresultssort");n&&n.dataset.metaField&&r.set("meta_field",n.dataset.metaField),s=o.pathname+"?"+r.toString()}window.location.href=s}))}))})),function(){"scrollRestoration"in history&&(history.scrollRestoration="manual");const t=sessionStorage.getItem("sortScrollPosition");t&&requestAnimationFrame((()=>{window.scrollTo(0,parseInt(t)),sessionStorage.removeItem("sortScrollPosition")}))}()})();