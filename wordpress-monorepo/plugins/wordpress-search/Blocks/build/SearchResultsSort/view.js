(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".search-results-sort__sort-select").forEach(function(e){e.addEventListener("change",function(){const e=this.dataset.currentUrl,t=this.value;let s=e;const a=new URL(s,window.location.origin),r=new URLSearchParams(a.search);if("relevance"===t)r.delete("sort"),r.delete("meta_sort"),r.delete("meta_field"),s=a.pathname+"?"+r.toString();else if(t.startsWith("title_"))r.delete("sort"),r.delete("meta_sort"),r.delete("meta_field"),r.set("sort",t),s=a.pathname+"?"+r.toString();else if(t.startsWith("meta_")){const e=t.replace("meta_","");r.delete("sort"),r.delete("meta_sort"),r.delete("meta_field"),r.set("meta_sort",e);const o=this.closest(".wp-block-wordpress-search-searchresultssort");o&&o.dataset.metaField&&r.set("meta_field",o.dataset.metaField),s=a.pathname+"?"+r.toString()}window.location.href=s})})})})();